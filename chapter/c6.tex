\chapter{全文总结及展望}

\section{全文总结}
本文主要研究了基于梯度提升树的生存分析优化方法，提出了两种新的生存分析优化方法，并且使用提出的方法建立了早期乳腺癌患者初次诊断后复发预后模型。

从文章内容上来看，我们首先介绍了生存分析领域相关概念，现有的生存分析方法和生存预测模型性能的评估指标。经典的生存分析模型Cox比例风险模型以及首次命中时间FHT模型都假设个体的风险函数具有某种特定的数学形式，然后通过优化各自的损失函数来得到模型参数；后来由于机器学习方法的兴起，生存分析模型不再局限于广义的线性模型，而是使用决策树，神经网络等非线性模型来表征个体协变量与风险函数之间的关系。但是，这一类基于决策树的非线性生存分析模型，有着风险函数假设限制和偏似然估计函数不够精确两方面的缺点；同时，一类基于神经网络的非线性生存分析模型不具有模型解释性，这些因素均在一定程度上限制了它们在各个领域的实际应用与发展。

针对现有生存分析方法存在的问题，我们然后从三个方面详细介绍了提出的两种基于梯度提升树的生存分析优化方法：HitBoost和BecCox。HitBoost方法主要使用多输出的梯度提升树来建立个体协变量与首次发生事件时间的概率分布之间的关系，它不再遵循任何关于个体风险函数的假设，使用极大似然估计函数和凸函数优化的一致性指数作为损失函数来优化模型参数；而BecCox方法，考虑到比例风险模型在某些场景下的广泛使用，保留了风险比例假设，针对Cox流派的一系列方法进行了改进。它采用了更加准确近似的偏似然估计函数作为损失函数，并且加入了凸函数优化的一致性指数来调整风险排序。模型实现上，我们首先推导了自定义的目标函数关于模型预测值的一阶梯度和二阶梯度，然后根据预测目标的不同类型，借助灵活且易拓展的XGBoost梯度提升树框架实现了提出的两种方法。在设置了相关的数据集和实验后，四个公开的生存数据集上的实验结果表明，HitBoost相比一类遵循比例风险假设的CoxPH，CoxBoost和ThresReg生存分析方法，以及常用的RSF方法来说，它在对个体生存函数的预测上更加准确；而BecCox相比同样基于Cox比例风险假设的CoxPH，CoxBoost，CoxNet和GBM生存分析方法，它能够更加准确地估计个体风险比例，具有更好的风险区分度。各个数据集的样例分析，也进一步展示了HitBoost方法在个体生存函数预测上的准确性和优越性。

最后，本文介绍了提出的生存分析优化方法在早期乳腺癌复发预后上的应用。我们使用从四川大学华西医院乳腺疾病临床研究中心乳腺癌信息管理系统导出的原始数据，经过数据清洗，数据划分等步骤最终得到用于建立预测模型的数据集。然后，我们使用HitBoost生存分析方法研究并建立了针对早期乳腺癌患者的复发预后模型。该模型在独立测试集上的一致性指数为0.72323，该指标超过了其余4种常用的生存分析方法以及BecCox方法。我们将建立好的模型用于寻找对早期乳腺癌患者初次诊断后复发的重要影响因子，以及探究不同因子的影响模式。预后模型揭示了肿瘤T分期是影响复发的重要因子，以及其影响模式，这些均与临床经验相符。同样，我们以内分泌治疗推荐为例，演示了预后模型如何被用于治疗推荐。从实验结果可以看出，治疗推荐在一定程度上能够帮助临床乳腺疾病医生或研究者更加科学地评估不同治疗方式带来的影响，从而结合临床实际情况制定更好的治疗措施。

生存分析，作为一个特殊的研究方向，它在各个相关的领域中，特别是在疾病预后研究中，扮演着重要的角色。对临床疾病的预后研究，常常需要使用临床生存数据来建立模型，通过模型来进行预后预测，或者寻找对疾病有重要影响的因子。而生存分析方法作为建立疾病预后模型过程中必不可少的部分，它影响着模型的预测准确性以及临床实用性，具有重要的价值和现实意义。本文提出的基于梯度提升树的生存分析优化方法，考虑了模型的准确性和实用性，可以为疾病预后模型的建立或其他相关领域的研究提供重要方法和手段。

\section{后续工作展望}
本文重点研究内容主要包括两个方面。一方面，本文针对现有生存分析方法存在的不足，研究提出使用基于梯度提升树的生存分析方法来优化现有的方法；另一方面，将基于梯度提升树的生存分析优化方法应用于疾病预后研究。考虑到种种限制以及目前工作中可能存在的不足，后续工作改进或展望具体包括以下三个方面：

（1）方法本身。HitBoost方法使用多输出的梯度提升树来建立个体协变量和风险函数之间的关系，预测结果为首次发生事件时间的概率分布，所以它的输出维度等于生存数据中最大的观测时间，这最终可能导致模型存在隐患——模型输出的概率分布过于稀疏。故发生事件时间的概率分布的稀疏性成为了提出的生存分析优化方法本身存在的一个问题。此外，我们提出的两种方法的目标函数均包括两个部分：似然估计函数（或偏似然估计函数）和凸函数近似的一致性指数。用于近似一致性指数的凸函数的选取以及这部分目标函数实际对模型产生的影响，可能需要更多的理论或实验来说明。

（2）方法实现。我们提出的方法都是在XGBoost框架下实现的，在推导完自定义损失函数的一阶梯度和二阶梯度后，需要代码实现整个梯度计算的过程。参考XGBoost框架原生的损失函数梯度计算实现，如果采用C++实现并且融合GPU的加速技巧，那么自定义损失函数的计算速度可以变得更加高效，从而加快生存分析建模或研究工作。所以，方法实现上的优化也是后续工作可能需要改进的地方之一。

（3）实际应用。在生存分析领域，脱离了实际应用诉求的方法，其发展会受到限制。Cox比例风险模型，作为最为经典的生存分析方法之一，仍然是国内外众多权威预测模型最常使用的模型。模型解释性以及统计理论的完备是它被广泛使用的重要原因，所以如何把现代机器学习方法应用于生存分析领域并被领域专业人员研究使用，是未来生存分析发展的重要方向。而我们提出的基于梯度提升树的生存分析方法，以及近些年被广泛关注和研究的基于深度学习的方法，正由于其在模型解释性和理论等方面有不同程度的欠缺，所以导致它们的发展受到了限制。
